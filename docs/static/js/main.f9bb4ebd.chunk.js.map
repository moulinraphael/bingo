{"version":3,"sources":["sounds/mk64_firstplace.wav","sounds/mk64_loser.wav","sounds/mk64_racestart.wav","sounds/mk64_multiplayerstart.wav","sounds/mk64_finallap.wav","utils/firebase.js","components/Case.js","components/HeaderCase.js","components/Grid.js","components/GameInfo.js","components/PlayerForm.js","components/AdminPlayerGrid.js","components/AdminPlayer.js","components/Admin.js","components/Message.js","utils/numbers.js","App.js","index.js"],"names":["module","exports","Firebase","initializeApp","databaseURL","err","test","message","console","error","stack","styles","free","color","fontSize","background","borderColor","common","margin","borderRadius","height","border","display","alignItems","justifyContent","hover","cursor","selected","hoverSelected","checked","mistake","Case","props","mouseToggle","setState","toggle","toggleNumber","number","state","this","style","playerNumbers","indexOf","gameNumbers","includes","finish","onMouseEnter","onMouseLeave","onClick","React","Component","softColors","boldColors","container","circle","width","activated","index","HeaderCase","gridNumbers","splice","every","letter","bingo","split","wrapper","gridTemplate","gridAutoFlow","header","gridTemplateColumns","Grid","map","start","count","flex","game","padding","fontWeight","player","paddingRight","quit","GameInfo","admin","gameName","quitGame","length","playersCount","playerName","textAlign","menuOpened","maxWidth","menuClosed","textDecoration","marginTop","form","borderTop","label","input","outline","borderBottom","field","marginRight","boxSizing","go","goActivated","PlayerForm","toggleForm","futureForm","formOpened","pass","changeFormOpened","changeValue","event","target","value","changeGameName","changePlayerName","createGame","htmlFor","id","onChange","joinGame","type","marginBottom","oversight","grid","AdminPlayerGrid","styleNumber","winner","loser","title","AdminPlayer","name","auto","numbers","drawn","draw","reinit","list","allNumbers","Array","keys","Admin","drawNumber","players","startMatch","key","reinitMatch","cancelMatch","position","top","right","left","bottom","minHeight","opacity","actions","button","confirm","cancel","Message","ok","callback","getContent","content","data","timer","clearTimeout","timeout","setTimeout","removeMessage","generateNumbers","withFree","generateBlockNumbers","generateBlockNumbersWithFree","from","to","sort","Math","random","x","slice","freePosition","sounds","first","sound_first","sound_loser","sound_start","begin","sound_begin","final","sound_final","newNumber","GAME_EMPTY","hash","PLAYER_EMPTY","images","App","playSound","sound","beep","setVolume","Uifx","play","games","child","off","orderByChild","equalTo","remove","gameKey","once","snap","set","val","initGame","reinitGame","maybeCreate","drawNewMaybe","submitGrid","compareGrid","displayMessage","MESSAGES","default","push","searchGame","Object","values","trim","toLowerCase","playerKey","paint","on","newNumbers","then","gamePass","gameHash","ref","askCancel","askReinit","fullGrid","src","floor","alt","eliminated","notExists","newNumberAdmin","badHash","announceWinner","displayWinner","waitGame","inProgress","zeroPlayer","cleanGame","database","WrapperApp","search","URLSearchParams","useLocation","get","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f9bb4ebd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/mk64_firstplace.8c2cc698.wav\";","module.exports = __webpack_public_path__ + \"static/media/mk64_loser.51310d77.wav\";","module.exports = __webpack_public_path__ + \"static/media/mk64_racestart.bd61c949.wav\";","module.exports = __webpack_public_path__ + \"static/media/mk64_multiplayerstart.fc64c37d.wav\";","module.exports = __webpack_public_path__ + \"static/media/mk64_finallap.3d63ec69.wav\";","import Firebase from 'firebase';\n\nconst config = {\n  databaseURL: \"https://bingo-voisinage.firebaseio.com\",\n};\n\ntry {\n  Firebase.initializeApp(config);\n} catch (err) {\n  // we skip the \"already exists\" message which is\n  // not an actual error when we're hot-reloading\n  if (!/already exists/.test(err.message)) {\n    console.error('Firebase initialization error', err.stack);\n  }\n}\n\nexport default Firebase;\n","import React from 'react';\n\nconst styles = {\n  free: {\n    color: '#666',\n    fontSize: '1em',\n    background: '#DDD',\n    borderColor: '#666',\n  },\n  common: {\n    margin: 10,\n    borderRadius: 4,\n    height: 60,\n    border: '1px solid #DDD',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontSize: '1.5em',\n    color: '#999',\n  },\n  hover: {\n    color: '#666',\n    border: '1px solid #AAA',\n    background: '#EEE',\n    cursor: 'pointer',\n  },\n  selected: {\n    color: '#EA3',\n    border: '1px solid #EA3',\n    background: '#FEA',\n  },\n  hoverSelected: {\n    color: '#C92',\n    border: '1px solid #C92',\n    background: '#ED9',\n  },\n  checked: {\n    border: '1px solid #6C6',\n    background: '#EFE',\n    color: '#6C6',\n  },\n  mistake: {\n    border: '1px solid #C66',\n    background: '#FEE',\n    color: '#C66',\n  },\n};\n\nclass Case extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hover: false,\n    };\n  }\n\n  mouseToggle = hover => (() => {\n    this.setState({hover: hover});\n  });\n\n  toggle = () => {\n    this.props.toggleNumber(this.props.number);\n  };\n\n  render() {\n    if (this.props.number === '_') {\n      return (\n        <div style={{...styles.common, ...styles.free}}>\n          FREE\n        </div>\n      );\n    }\n\n    const selected = this.props.playerNumbers.indexOf(this.props.number) >= 0;\n    const mistake = !this.props.gameNumbers.includes(this.props.number);\n    return (\n      <div\n        style={{\n          ...styles.common,\n          ...(selected && styles.selected),\n          ...(selected && this.props.finish && !mistake && styles.checked),\n          ...(selected && this.props.finish && mistake && styles.mistake),\n          ...(!this.props.finish && this.state.hover && styles.hover),\n          ...(!this.props.finish && this.state.hover && selected && styles.hoverSelected),\n        }}\n        onMouseEnter={this.mouseToggle(true)}\n        onMouseLeave={this.mouseToggle(false)}\n        onClick={!this.props.finish && this.toggle}\n      >\n        {this.props.number}\n      </div>\n    );\n  }\n}\n\nexport default Case;\n","import React from 'react';\n\nconst softColors = ['#00A', '#FA0', '#0A0', '#F00', '#A0A'];\nconst boldColors = ['#EEF', '#FED', '#EFE', '#FEE', '#FEF'];\nconst styles = {\n  container: {\n  },\n  circle: {\n    margin: '20px auto',\n    borderRadius: '50%',\n    background: '#EEE',\n    color: '#DDD',\n    height: 70,\n    width: 70,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    fontSize: '250%',\n  },\n  activated: (index) => ({\n    background: softColors[index],\n    color: boldColors[index],\n  }),\n};\n\nclass HeaderCase extends React.Component {\n  render() {\n    const columnNumbers = [...this.props.gridNumbers].splice(5 * this.props.index, 5);\n    const activated = columnNumbers.every(number => number === '_' || this.props.playerNumbers.includes(number));\n\n    return (\n      <div style={styles.container}>\n        <div style={{\n          ...styles.circle,\n          ...(activated && styles.activated(this.props.index))\n        }}>\n          {this.props.letter}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default HeaderCase;\n","import React from 'react';\nimport Case from './Case';\nimport HeaderCase from './HeaderCase';\n\nconst bingo = 'BINGO'.split('');\nconst styles = {\n  container: {\n  },\n  wrapper: {\n    display: 'grid',\n    gridTemplate: 'repeat(5, 1fr) / repeat(5, 1fr)',\n    gridAutoFlow: 'column',\n  },\n  header: {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(5, 1fr)',\n  },\n};\n\nclass Grid extends React.Component {\n  render() {\n    return (\n      <div style={styles.container}>\n        <div style={styles.header}>\n          {bingo.map((letter, index) => (\n            <HeaderCase\n              index={index}\n              letter={letter}\n              playerNumbers={this.props.playerNumbers}\n              gridNumbers={this.props.gridNumbers}\n            />\n          ))}\n        </div>\n        {this.props.start &&\n          <div style={styles.wrapper}>\n            {this.props.gridNumbers.map(number => (\n              <Case\n                number={number}\n                playerNumbers={this.props.playerNumbers}\n                finish={this.props.finish}\n                gameNumbers={this.props.gameNumbers}\n                toggleNumber={this.props.toggleNumber}\n              />)\n            )}\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nexport default Grid;\n","import React from 'react';\n\nconst styles = {\n  container: {\n    display: 'flex',\n    width: '100%',\n    alignItems: 'center',\n    height: 30,\n  },\n  count: {\n    flex: 1,\n    color: '#999',\n  },\n  game: {\n    padding: '0 10px 0 20px',\n    fontWeight: 'bold',\n  },\n  player: {\n    paddingRight: 10,\n  },\n  quit: {\n    paddingRight: 20,\n    background: '#FEE',\n    padding: '3px 10px',\n    border: '2px solid #FCC',\n    color: '#F66',\n    borderRadius: 3,\n    cursor: 'pointer',\n  }\n};\n\nclass GameInfo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n  }\n\n  // TODO : Supprimer duplication\n  render() {\n    if (this.props.admin) {\n      return (\n        <div style={styles.container}>\n          <span style={styles.game}>{this.props.gameName}</span>\n          <span style={styles.count}>ADMINISTRATION</span>\n          <span\n            style={styles.quit}\n            onClick={this.props.quitGame}\n          >\n            Quitter\n          </span>\n        </div>\n      );\n    } else if (this.props.gridNumbers.length === 0) {\n      return (\n        <div style={styles.container}></div>\n      );\n    }\n\n    return (\n      <div style={styles.container}>\n        <span style={styles.game}>{this.props.gameName}</span>\n        <span style={styles.count}>\n          {this.props.playersCount} joueur{this.props.playersCount > 1 && 's'}\n        </span>\n        <span style={styles.player}>{this.props.playerName}</span>\n        <span\n          style={styles.quit}\n          onClick={this.props.quitGame}\n        >\n          Quitter\n        </span>\n      </div>\n    );\n  }\n}\n\nexport default GameInfo;\n","import React from 'react';\nimport hash from 'object-hash';\n\nconst styles = {\n  container: {\n    textAlign: 'center',\n  },\n  menuOpened: {\n    background: '#EEE',\n    border: '2px solid #666',\n    color: '#666',\n    padding: 20,\n    width: '75%',\n    maxWidth: '250px',\n    margin: '20px auto',\n    fontSize: '1.5em',\n    borderRadius: 10,\n  },\n  header: {\n    cursor: 'pointer',\n  },\n  menuClosed: {\n    textDecoration: 'underline',\n    color: '#CCC',\n    marginTop: 40,\n    cursor: 'pointer',\n  },\n  form: {\n    borderTop: '1px solid #CCC',\n    marginTop: 20,\n  },\n  label: {\n    display: 'flex',\n    width: '100%',\n    textAlign: 'right',\n    marginTop: 20,\n    alignItems: 'center',\n  },\n  input: {\n    flex: 1,\n    width: '100%',\n    outline: 'none',\n    fontSize: '0.75em',\n    padding: '3px 10px',\n    border: 0,\n    background: '#DDD',\n    borderBottom: '1px solid #BBB',\n    borderRadius: 0,\n    color: '#333',\n  },\n  field: {\n    flex: '0 70px',\n    marginRight: 20,\n    fontSize: '0.75em',\n    boxSizing: 'border-box',\n  },\n  go: {\n    display: 'inline-block',\n    margin: '20px auto 0',\n    background: '#E6E6E6',\n    color: '#CCC',\n    padding: '5px 20px',\n    borderRadius: 10,\n  },\n  goActivated: {\n    background: '#666',\n  }\n};\n\nclass PlayerForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pass: '',\n    };\n  }\n\n  toggleForm = (form) => (() => {\n    let futureForm = null;\n    if (this.props.formOpened !== form) {\n      futureForm = form;\n    }\n    this.setState({pass: ''});\n    this.props.changeFormOpened(futureForm);\n  });\n\n  changeValue = (field) => ((event) => {\n    if (field === 'pass') {\n      this.setState({pass: event.target.value});\n    } else if (field === 'game') {\n      this.props.changeGameName(event.target.value);\n    } else if (field === 'player') {\n      this.props.changePlayerName(event.target.value);\n    }\n  });\n\n  createGame = () => {\n    this.props.createGame(this.state.pass);\n  };\n\n  render() {\n    return (\n      <div style={styles.container}>\n        {this.props.formOpened !== 'create' && (\n          <div style={styles.menuOpened}>\n            <div\n              style={styles.header}\n              onClick={this.toggleForm('join')}\n            >\n              <b>Joindre</b> une partie\n            </div>\n            {this.props.formOpened === 'join' && (\n              <div style={styles.form}>\n                <label\n                  htmlFor=\"gameName\"\n                  style={styles.label}\n                >\n                  <div style={styles.field}>Partie</div>\n                  <input\n                    style={styles.input}\n                    value={this.props.gameName}\n                    id=\"gameName\"\n                    onChange={this.changeValue('game')}\n                  />\n                </label>\n\n                <label\n                  htmlFor=\"playerName\"\n                  style={styles.label}\n                >\n                  <div style={styles.field}>Prénom</div>\n                  <input\n                    style={styles.input}\n                    value={this.props.playerName}\n                    id=\"playerName\"\n                    onChange={this.changeValue('player')}\n                  />\n                </label>\n\n                <div\n                  style={{\n                    ...styles.go,\n                    ...(this.props.gameName && this.props.playerName && styles.goActivated)\n                  }}\n                  onClick={this.props.joinGame}\n                >\n                  Go !\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n        {this.props.formOpened !== 'join' && (\n          <div style={this.props.formOpened === 'create' ? styles.menuOpened : styles.menuClosed}>\n            <div\n              style={styles.header}\n              onClick={this.toggleForm('create')}\n            >\n              <b>Administrer</b> une partie\n            </div>\n            {this.props.formOpened === 'create' && (\n              <div style={styles.form}>\n                <label\n                  htmlFor=\"gameName\"\n                  style={styles.label}\n                >\n                  <div style={styles.field}>Partie</div>\n                  <input\n                    style={styles.input}\n                    value={this.props.gameName}\n                    id=\"gameName\"\n                    onChange={this.changeValue('game')}\n                  />\n                </label>\n\n                <label\n                  htmlFor=\"gamePass\"\n                  style={styles.label}\n                >\n                  <div style={styles.field}>Clef</div>\n                  <input\n                    type=\"password\"\n                    style={styles.input}\n                    value={this.state.pass}\n                    id=\"gamePass\"\n                    onChange={this.changeValue('pass')}\n                  />\n                </label>\n\n                <div\n                  style={{\n                    ...styles.go,\n                    ...(this.props.gameName && this.state.pass && styles.goActivated)\n                  }}\n                  onClick={this.createGame}\n                >\n                  Go !\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default PlayerForm;\n","import React from 'react';\n\nconst styles = {\n  number: {\n    display: 'flex',\n    width: 20,\n    height: 20,\n    borderRadius: 10,\n    background: '#EEE',\n    color: '#AAA',\n    justifyContent: 'center',\n    alignItems: 'center',\n    fontSize: '0.75em',\n    marginBottom: 5,\n  },\n  checked: {\n    background: '#EFE',\n    color: '#6C6',\n  },\n  mistake: {\n    background: '#FEE',\n    color: '#C66',\n  },\n  oversight: {\n    background: '#FED',\n    color: '#FA0',\n  },\n  grid: {\n    maxWidth: 150,\n    display: 'grid',\n    gridTemplate: 'repeat(5, 1fr) / repeat(5, 1fr)',\n    gridAutoFlow: 'column',\n  },\n};\n\nclass AdminPlayerGrid extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n  }\n\n  styleNumber = (number) => {\n    if (number === '_') {\n      return null;\n    }\n\n    if (this.props.gameNumbers.includes(number)) {\n      if (this.props.playerNumbers.includes(number)) {\n        return styles.checked;\n      } else {\n        return styles.oversight;\n      }\n    } else if (this.props.playerNumbers.includes(number)) {\n      return styles.mistake;\n    }\n  };\n/*\n<div style={{\n  ...styles.number,\n}}>*/\n  render() {\n    return (\n      <div style={styles.grid}>\n        {this.props.gridNumbers.map(number => (\n          <div style={{\n            ...styles.number,\n            ...this.styleNumber(number),\n          }}>{number === '_' ? '' : number}</div>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default AdminPlayerGrid;\n","import React from 'react';\nimport AdminPlayerGrid from './AdminPlayerGrid';\n\nconst styles = {\n  container: {\n    display: 'inline-block',\n    width: 140,\n    padding: 5,\n    margin: 5,\n    background: '#F9F9F9',\n    borderRadius: 5,\n  },\n  winner: {\n    background: '#0D0',\n  },\n  loser: {\n    background: '#D00',\n  },\n  title: {\n    textAlign: 'center',\n    marginBottom: 10,\n  }\n};\n\nclass AdminPlayer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n  }\n\n  render() {\n    return (\n      <div style={{\n        ...styles.container,\n        ...(this.props.winner && styles.winner),\n        ...(this.props.player.finish && !this.props.winner && styles.loser)\n      }}>\n        <div style={styles.title}>\n          {this.props.player.name}\n          {this.props.player.auto && ' (auto)'}\n        </div>\n        <AdminPlayerGrid\n          playerNumbers={this.props.player.numbers}\n          gridNumbers={this.props.player.grid}\n          gameNumbers={this.props.gameNumbers}\n        />\n      </div>\n    );\n  }\n}\n\nexport default AdminPlayer;\n","import React from 'react';\nimport AdminPlayer from './AdminPlayer';\n\nconst styles = {\n  container: {\n    marginTop: 20,\n  },\n  title: {\n    fontWeight: 'bold',\n    paddingRight: 20,\n    fontSize: '1.5em',\n    margin: '30px 0',\n  },\n  grid: {\n    margin: '30px auto',\n    maxWidth: 400,\n    display: 'grid',\n    gridTemplateColumns: 'repeat(15, 1fr)',\n  },\n  number: {\n    display: 'flex',\n    width: 20,\n    height: 20,\n    borderRadius: 10,\n    background: '#EEE',\n    color: '#AAA',\n    justifyContent: 'center',\n    alignItems: 'center',\n    fontSize: '0.75em',\n    marginBottom: 5,\n  },\n  drawn: {\n    background: '#999',\n    color: '#EEE',\n  },\n  draw: {\n    background: '#EFE',\n    padding: '3px 10px',\n    border: '2px solid #ADA',\n    color: '#6C6',\n    borderRadius: 3,\n    cursor: 'pointer',\n  },\n  reinit: {\n    background: '#EEF',\n    padding: '3px 10px',\n    border: '2px solid #AAD',\n    color: '#66C',\n    borderRadius: 3,\n    cursor: 'pointer',\n    marginRight: 10,\n  },\n  list: {\n  },\n};\n\nconst allNumbers = [...Array(75).keys()].map(number => number + 1);\n\nclass Admin extends React.Component {\n  render() {\n    return (\n      <div style={styles.container}>\n        {this.props.start ?\n          <>\n            <div>\n              <span style={styles.title}>Numéros</span>\n              {!this.props.winner && this.props.gameNumbers.length < 75 && (\n                <span\n                  style={styles.draw}\n                  onClick={this.props.drawNumber}\n                >Tirer un numéro</span>\n              )}\n            </div>\n            <div style={styles.grid}>\n              {allNumbers.map(number => (\n                <div style={{\n                  ...styles.number,\n                  ...(this.props.gameNumbers.includes(number) && styles.drawn)\n                }}>\n                  {number}\n                </div>\n              ))}\n            </div>\n          </> : (this.props.players.length ?\n            <div>\n              <span\n                style={styles.draw}\n                onClick={this.props.startMatch}\n              >Démarrer la partie</span>\n            </div> : <br />)\n        }\n\n        <div style={styles.title}>{this.props.players.length} participant{this.props.players.length > 1 && 's'}</div>\n        <div style={styles.list}>\n          {this.props.players.map(player => (\n            <AdminPlayer\n              player={player}\n              winner={this.props.winner === player.key}\n              gameNumbers={this.props.gameNumbers}\n            />\n          ))}\n        </div>\n\n        <br />\n        <div>\n          {this.props.start &&\n            <span\n              style={styles.reinit}\n              onClick={this.props.reinitMatch}\n            >Réinitialiser la partie</span>\n          }\n          <span\n            style={styles.reinit}\n            onClick={this.props.cancelMatch}\n          >Supprimer la partie</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Admin;\n","import React from 'react';\n\nconst styles = {\n  container: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    left: 0,\n    bottom: 0,\n    minHeight: '100vw',\n  },\n  background: {\n    position: 'absolute',\n    height: '100%',\n    width: '100%',\n    background: '#FFF',\n    opacity: 0.75,\n  },\n  wrapper: {\n    position: 'sticky',\n    margin: '170px auto 50px',\n    maxWidth: '75%',\n    width: 400,\n    background: '#EEE',\n    border: '2px solid #666',\n    color: '#666',\n    padding: 20,\n    fontSize: '1.25em',\n    borderRadius: 10,\n  },\n  actions: {\n    marginTop: 20,\n    textAlign: 'center',\n  },\n  button: {\n    display: 'inline-block',\n    margin: '10px 20px',\n    background: '#E6E6E6',\n    color: '#999',\n    padding: '5px 20px',\n    borderRadius: 10,\n    cursor: 'pointer',\n  },\n  confirm: {\n    background: '#666',\n    color: '#CCC',\n  },\n  cancel: {\n  },\n};\n\nclass Message extends React.Component {\n  onClick = (ok) => (() => this.props.message.callback(ok));\n\n  getContent = () => {\n    const content = this.props.message.content;\n    if (typeof content === 'function') {\n      return content(this.props.message.data);\n    }\n\n    return content;\n  };\n\n  render() {\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n\n    if (this.props.message.timeout) {\n      this.timer = setTimeout(() => {\n        this.props.removeMessage();\n      }, this.props.message.timeout);\n    }\n\n    return (\n      <div style={styles.container}>\n        <div style={styles.background}></div>\n        <div style={styles.wrapper}>\n          <div style={styles.content}>{this.getContent()}</div>\n          {(this.props.message.confirm || this.props.message.cancel) && (\n            <div style={styles.actions}>\n              {this.props.message.confirm && (\n                <div\n                  style={{\n                    ...styles.button,\n                    ...styles.confirm\n                  }}\n                  onClick={this.onClick(true)}\n                >{this.props.message.confirm}</div>\n              )}\n              {this.props.message.cancel && (\n                <div\n                  style={{\n                    ...styles.button,\n                    ...styles.cancel\n                  }}\n                  onClick={this.onClick(false)}\n                >{this.props.message.cancel}</div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Message;\n","function generateNumbers(withFree = true) {\n  return [\n    ...generateBlockNumbers(1, 15, 5),\n    ...generateBlockNumbers(16, 30, 5),\n    ...generateBlockNumbersWithFree(31, 45, 5, withFree, 2),\n    ...generateBlockNumbers(46, 60, 5),\n    ...generateBlockNumbers(61, 75, 5),\n  ];\n}\n\nfunction generateBlockNumbers(from, to, count = 5) {\n  const numbers = [...Array(to - from + 1).keys()]\n    .sort(() => 0.5 - Math.random())\n    .map(x => x + from)\n    .slice(0, count);\n  return numbers;\n}\n\nfunction generateBlockNumbersWithFree(from, to, count, withFree, freePosition) {\n  const numbers = generateBlockNumbers(from, to, count);\n  if (withFree) {\n    numbers[freePosition] = '_';\n  }\n\n  return numbers;\n}\n\nexport { generateNumbers, generateBlockNumbers };\n","import React from 'react';\nimport Firebase from './utils/firebase';\nimport hash from 'object-hash';\nimport Uifx from 'uifx';\n\nimport Grid from './components/Grid';\nimport GameInfo from './components/GameInfo';\nimport PlayerForm from './components/PlayerForm';\nimport Admin from './components/Admin';\nimport Message from './components/Message';\n\nimport { generateNumbers, generateBlockNumbers } from './utils/numbers';\n\nimport sound_first from './sounds/mk64_firstplace.wav';\nimport sound_loser from './sounds/mk64_loser.wav';\nimport sound_start from './sounds/mk64_racestart.wav';\nimport sound_begin from './sounds/mk64_multiplayerstart.wav';\nimport sound_final from './sounds/mk64_finallap.wav';\n\nconst sounds = {\n  first: sound_first,\n  loser: sound_loser,\n  start: sound_start,\n  begin: sound_begin,\n  final: sound_final,\n};\n\nconst styles = {\n  container: {\n    margin: 'auto',\n    maxWidth: '500px',\n    padding: '20px 10px',\n  },\n  newNumber: {\n    display: 'block',\n    textAlign: 'center',\n    fontWeight: 'bold',\n    fontSize: '3em',\n    marginTop: 20,\n  }\n};\n\nconst GAME_EMPTY = {\n  key: null,\n  name: null,\n  hash: '',\n  count: 0,\n  players: [],\n  numbers: [],\n  winner: null,\n  start: false,\n};\n\nconst PLAYER_EMPTY = {\n  key: null,\n  name: null,\n  grid: [],\n  numbers: [],\n  finish: false,\n};\n\nconst images = [\n  'yoshi',\n  'mario',\n  'peach',\n  'toad',\n];\n\n// TODO config de game (auto / affichage new number / multi vainqueurs)\n// TODO réinitialiser une partie\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.MESSAGES = {\n      default: {\n        confirm: 'Ok !',\n        cancel: false,\n        callback: this.removeMessage,\n        timeout: false,\n      },\n      fullGrid: {\n        content: <span>Il semblerait que tu aies un <b>BINGO !</b><br />Attention, si tu soumets une grille avec une erreur tu seras éliminé ! <br /><br />Veux-tu soumettre ta grille ou la corriger ?</span>,\n        confirm: 'Soumettre !',\n        cancel: 'Corriger',\n        callback: this.submitGrid,\n      },\n      winner: {\n        content: () => <span>Tu es le vainqueur de cette partie, bravo !!<br /><br /><center><img src={`./${images[Math.floor(Math.random() * images.length)]}.gif`} alt=\"\" /></center></span>,\n      },\n      eliminated: {\n        content: <span>Tu as des erreurs dans ta grille, tu as été éliminé :(</span>,\n      },\n      notExists: {\n        content: <span>Cette partie n'existe pas, choisis en une autre ou lance la en choissant une clef !</span>,\n        confirm: 'La lancer !',\n        cancel: 'Une autre...',\n        callback: this.maybeCreate,\n      },\n      newNumber: {\n        content: data => <center>Nouveau nombre !<br /><span style={styles.newNumber}>{data.number}</span></center>,\n        confirm: false,\n        timeout: 1500,\n      },\n      newNumberAdmin: {\n        content: data => <span style={styles.newNumber}>{data.number}</span>,\n        cancel: 'Retirer',\n        callback: this.drawNewMaybe,\n      },\n      badHash: {\n        content: <span>Ce mot de passe ne correspond pas à celui choisi lors de la création de la partie.</span>,\n      },\n      announceWinner: {\n        content: data => <span>Cette partie est finie ! Le vainqueur est ...<br /><br /><center><b>{data.name}</b></center></span>,\n      },\n      displayWinner: {\n        content: data => <span>Fin de la partie... Une personne a été meilleure que toi :/ Bravo au vainqueur ...<br /><br /><center><b>{data.name}</b></center></span>,\n        confirm: 'Quitter la partie',\n        callback: this.quitGame,\n      },\n      waitGame: {\n        content: () => <span>Partie en attente de lancement, merci de patienter...<br /><br /><center><img src={`./${images[Math.floor(Math.random() * images.length)]}.gif`} alt=\"\" /></center></span>,\n        confirm: 'Quitter',\n        callback: this.quitGame,\n      },\n      inProgress: {\n        content: <span>Désolé, la partie est en cours, il n'est plus possible de la rejoindre :(</span>,\n      },\n      zeroPlayer: {\n        content: <span>La partie bien que lancée n'a plus de joueur....</span>,\n        confirm: 'Réinitialiser',\n        cancel: 'Quitter',\n        callback: this.reinitGame,\n      },\n      cleanGame: {\n        content: <span>Malheureusement, la partie a été réinitialisée...</span>,\n        callback: this.quitGame,\n      },\n      askReinit: {\n        content: <span>Es-tu sûr de vouloir réinitialiser la partie ?</span>,\n        cancel: 'Annuler',\n        callback: this.reinitMatch,\n      },\n      askCancel: {\n        content: <span>Es-tu sûr de vouloir supprimer la partie ?</span>,\n        cancel: 'Annuler',\n        callback: this.cancelMatch,\n      },\n    };\n    this.ref = Firebase.database().ref('/');\n    this.games = this.ref.child('games');\n    this.players = this.ref.child('players');\n    this.state = {\n      admin: false,\n      formOpened: 'join',\n      game: {\n        ...GAME_EMPTY,\n        ...(this.props.gameName && { name: this.props.gameName }),\n      },\n      player: PLAYER_EMPTY,\n      message: null,\n    };\n  }\n\n  playSound = (sound) => {\n    if (this.beep) {\n      this.beep.setVolume(0);\n    }\n\n    if (sounds[sound]) {\n      this.beep = new Uifx(sounds[sound]);\n      this.beep.setVolume(1);\n      this.beep.play();\n    }\n  };\n\n  // TODO cookie pour retenir key du player qui peut revenir si page fermée ou quitte\n  quitGame = () => {\n    this.removeMessage();\n\n    if (this.state.game && this.state.game.key) {\n      this.games.child(this.state.game.key).off();\n      this.games.child(this.state.game.key).child('count').off();\n      this.players.orderByChild('game').equalTo(this.state.game.key).off();\n      this.games.orderByChild('name').equalTo(this.state.game.name).off();\n    }\n\n    if (this.state.player && this.state.player.key) {\n      this.players.child(this.state.player.key).off();\n\n      if (this.state.player.numbers.length === 0) {\n        this.players.child(this.state.player.key).remove();\n\n        const gameKey = this.state.game.key;\n        this.games.child(gameKey).child('count').once('value', snap => {\n          this.games.child(gameKey).child('count').set((snap.val() || 1) - 1);\n          this.games.child(gameKey).child('count').off();\n        });\n      }\n    }\n\n    this.setState({\n      admin: false,\n      game: {\n        ...GAME_EMPTY,\n        name: this.state.game.name,\n      },\n      player: {\n        ...PLAYER_EMPTY,\n        name: this.state.player.name,\n      },\n    });\n  };\n\n  reinitMatch = (confirm) => {\n    this.removeMessage();\n    if (confirm) {\n      this.games.child(this.state.game.key).remove();\n      this.initGame(this.state.game.name, this.state.game.hash, null, null);\n    }\n  };\n\n  cancelMatch = (confirm) => {\n    this.removeMessage();\n    if (confirm) {\n      this.games.child(this.state.game.key).remove();\n      this.quitGame();\n    }\n  };\n\n  reinitGame = (confirm) => {\n    if (confirm) {\n      this.removeMessage();\n      this.reinitMatch();\n    } else {\n      this.quitGame();\n    }\n  };\n\n  maybeCreate = (confirm) => {\n    if (!confirm) {\n      this.setState({\n        game: GAME_EMPTY,\n      });\n    } else {\n      this.changeFormOpened('create');\n    }\n    this.removeMessage();\n  };\n\n  drawNewMaybe = (confirm) => {\n    this.removeMessage();\n    if (!confirm) {\n      this.drawNumber();\n    }\n  };\n\n  submitGrid = (confirm) => {\n    if (!confirm) {\n      this.removeMessage();\n    } else {\n      this.players.child(this.state.player.key).child('finish').set(true);\n      this.compareGrid();\n    }\n  };\n\n  displayMessage = (message, data = {}) => {\n    this.setState({\n      message: {\n        ...this.MESSAGES.default,\n        ...this.MESSAGES[message],\n        data,\n      },\n    });\n  };\n\n  compareGrid = () => {\n    if (this.state.player.numbers.every(number => this.state.game.numbers.includes(number))) {\n      this.games.child(this.state.game.key).child('winner').set(this.state.player.key);\n    } else {\n      this.playSound('loser');\n      this.displayMessage('eliminated');\n    }\n  };\n\n  toggleNumber = (number) => {\n    const index = this.state.player.numbers.indexOf(number);\n    let numbers = this.state.player.numbers;\n\n    if (index < 0) {\n      numbers.push(number);\n    } else {\n      numbers.splice(index, 1);\n    }\n\n    if (numbers.length >= 24) {\n      this.displayMessage('fullGrid');\n    }\n\n    this.players.child(this.state.player.key).child('numbers').set(numbers);\n  };\n\n  removeMessage = () => {\n    this.setState({message: null});\n  };\n\n  changeGameName = (gameName) => {\n    this.setState({\n      game: {\n        ...this.state.game,\n        name: gameName,\n      },\n    });\n  };\n\n  changePlayerName = (playerName) => {\n    this.setState({\n      player: {\n        ...this.state.player,\n        name: playerName,\n      },\n    });\n  };\n\n  changeFormOpened = (formOpened) => {\n    this.setState({formOpened});\n  };\n\n  searchGame = (gameName, callback) => {\n    this.games.orderByChild('name').equalTo(gameName).once('value', snap => {\n      const val = snap.val();\n\n      if (val === null) {\n        callback(null, null);\n      } else {\n        callback(Object.values(val)[0], Object.keys(val)[0]);\n      }\n    });\n  };\n\n  // TODO cookie avec key du player (ne pas recréer le player)\n  // TODO choix : soit nouvelle grille (et on supprime l'ancien) / soit reprise)\n  joinGame = () => {\n    const gameName = this.state.game.name.trim().toLowerCase();\n    const playerName = this.state.player.name;\n\n    this.searchGame(gameName, (val, key) => {\n      if (key === null) {\n        this.displayMessage('notExists');\n        return null;\n      }\n\n      if (val.winner) {\n        this.players.child(val.winner).once('value', snap => {\n          this.playSound('final');\n          this.displayMessage('announceWinner', {name: snap.val().name});\n        });\n        return;\n      }\n\n      if (val.start) {\n        this.displayMessage('inProgress');\n        return;\n      }\n\n      const player = {\n        ...PLAYER_EMPTY,\n        name: playerName,\n        grid: generateNumbers(true),\n      };\n      this.displayMessage('waitGame');\n      this.setState({\n        player,\n        game: {\n          ...GAME_EMPTY,\n          name: gameName,\n          key: key,\n        },\n      }, () => {\n        const ref = this.players.push({\n          ...player,\n          game: key,\n        });\n        const playerKey = ref.key;\n        this.setState({\n          player: {\n            ...this.state.player,\n            key: playerKey,\n          },\n        });\n\n        let paint = false;\n        this.games.child(key).on('value', snap => {\n          if (!snap.val()) {\n            this.displayMessage('cleanGame');\n            return;\n          }\n\n          const newNumbers = snap.val().numbers || [];\n          const winner = snap.val().winner;\n          const start = snap.val().start;\n\n          this.setState({\n            game: {\n              ...this.state.game,\n              winner,\n              start,\n              numbers: newNumbers,\n            },\n          });\n\n          if (!start) {\n            return;\n          } else {\n            this.removeMessage();\n          }\n\n          if (paint) {\n            this.displayMessage('newNumber', {number: newNumbers[newNumbers.length - 1]});\n          } else {\n            this.playSound('start');\n            paint = true;\n          }\n\n          if (winner) {\n            if (this.state.player.key === winner) {\n              this.playSound('first');\n              this.displayMessage('winner');\n            } else {\n              this.players.child(winner).once('value', snap => {\n                this.playSound('final');\n                this.displayMessage('displayWinner', {name: snap.val().name});\n              });\n            }\n          }\n        });\n\n        this.games.child(key).child('count').set((val.count || 0) + 1).then(() => {\n          this.games.child(key).child('count').on('value', snap => {\n            this.setState({\n              game: {\n                ...this.state.game,\n                count: snap.val(),\n              },\n            });\n          });\n        });\n\n        this.players.child(playerKey).on('value', snap => {\n          this.setState({\n            player: {\n              ...this.state.player,\n              key: playerKey,\n              finish: (snap.val().finish || false),\n              numbers: (snap.val().numbers || []),\n            },\n          });\n        });\n\n        // TODO then store key in cookie\n      });\n    });\n  };\n\n  createGame = (gamePass) => {\n    const gameHash = hash(gamePass);\n    const gameName = this.state.game.name.trim().toLowerCase();\n\n    this.searchGame(gameName, (val, key) => {\n      this.initGame(gameName, gameHash, val, key);\n    });\n  };\n\n  initGame = (gameName, gameHash, val, key) => {\n    if (key === null) {\n      val = {\n        ...GAME_EMPTY,\n        name: gameName,\n        hash: gameHash,\n      };\n      const ref = this.games.push(val);\n      key = ref.key;\n    } else {\n      if (val.hash !== gameHash) {\n        this.displayMessage('badHash');\n        return null;\n      }\n    }\n\n    this.setState({\n      admin: true,\n      game: {\n        ...GAME_EMPTY,\n        name: val.name,\n        hash: val.hash,\n        key: key,\n      },\n    }, () => {\n      if (val.start && val.count === 0) {\n        this.displayMessage('zeroPlayer');\n        return null;\n      }\n      this.games.child(key).on('value', snap => {\n        const val = snap.val() || {};\n        const numbers = val.numbers || [];\n        const winner = val.winner;\n        const start = !!val.start;\n\n        this.setState({\n          game: {\n            ...this.state.game,\n            numbers,\n            winner,\n            start,\n          }\n        });\n\n        if (winner) {\n          this.players.child(winner).once('value', snap => {\n            this.playSound('final');\n            this.displayMessage('announceWinner', {name: snap.val().name});\n          });\n        }\n\n        if (start && numbers.length === 0) {\n          this.playSound('begin');\n        }\n      });\n      this.players.orderByChild('game').equalTo(key).on('value', snap => {\n        const players = snap.val() || {};\n        const keys = Object.keys(players);\n        this.setState({\n          game: {\n            ...this.state.game,\n            players: keys.map(playerKey => ({\n              ...PLAYER_EMPTY,\n              ...players[playerKey],\n              key: playerKey,\n            })),\n          }\n        });\n\n        if (this.state.game.start && keys.length === 0) {\n          this.displayMessage('zeroPlayer');\n        }\n      })\n    });\n  };\n\n  drawNumber = () => {\n    if (this.state.game.numbers.length >= 75) {\n      // TODO améliorer suite du process\n      // Fin de la partie\n      return null;\n    }\n\n    const numbers = generateBlockNumbers(1, 75, 75);\n    let index = 0;\n    while (this.state.game.numbers.includes(numbers[index])) {\n      index++;\n    }\n\n    this.games.child(this.state.game.key).child('numbers').set([\n      ...this.state.game.numbers,\n      numbers[index],\n    ]);\n\n    this.displayMessage('newNumberAdmin', {number: numbers[index]});\n  };\n\n  startMatch = () => {\n    this.games.child(this.state.game.key).child('start').set(true);\n  };\n\n  askCancel = () => {\n    this.displayMessage('askCancel');\n  };\n\n  askReinit = () => {\n    this.displayMessage('askReinit');\n  };\n\n  render() {\n    return (\n      <div style={styles.container}>\n        <GameInfo\n          admin={this.state.admin}\n          gameName={this.state.game.name}\n          playerName={this.state.player.name}\n          gridNumbers={this.state.player.grid}\n          playersCount={this.state.game.count}\n          quitGame={this.quitGame}\n        />\n        <Grid\n          playerNumbers={this.state.player.numbers}\n          gridNumbers={this.state.player.grid}\n          finish={this.state.game.winner || this.state.player.finish}\n          start={this.state.game.start}\n          gameNumbers={this.state.game.numbers}\n          toggleNumber={this.toggleNumber}\n        />\n        {!this.state.game.key &&\n          !this.state.admin && (\n          <PlayerForm\n            formOpened={this.state.formOpened}\n            gameName={this.state.game.name}\n            playerName={this.state.player.name}\n            changeGameName={this.changeGameName}\n            changePlayerName={this.changePlayerName}\n            changeFormOpened={this.changeFormOpened}\n            joinGame={this.joinGame}\n            createGame={this.createGame}\n          />\n        )}\n        {this.state.admin && (\n          <Admin\n            drawNumber={this.drawNumber}\n            startMatch={this.startMatch}\n            reinitMatch={this.askReinit}\n            cancelMatch={this.askCancel}\n            gameNumbers={this.state.game.numbers}\n            players={this.state.game.players}\n            winner={this.state.game.winner}\n            start={this.state.game.start}\n          />\n        )}\n        {this.state.message && (\n          <Message\n            message={this.state.message}\n            removeMessage={this.removeMessage}\n          />\n        )}\n      </div>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, useLocation } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\n\nfunction WrapperApp() {\n  const search = new URLSearchParams(useLocation().search);\n  return (<App gameName={search.get('game')} />);\n}\n\n// TODO : Router avec le nom de la partie pour lien d'invitation dans l'admin\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <WrapperApp />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}